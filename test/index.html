<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Le Jardin Zen - Conseils et Astuces</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* Styles de base pour la d√©mo "Jardin Zen" */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.7;
      margin: 0;
      padding: 0;
      background-color: #f0fdf4; 
      color: #1f2937;
    }
    .header {
      padding: 1rem 2rem;
      text-align: center;
    }
    .header h1 {
        margin: 0;
        font-size: 2.5rem; /* Consid√©r√© comme grand texte */
        font-weight: 300;
        /* La couleur blanche h√©rite du header, le contraste est maintenant OK */
    }
    .container {
      max-width: 900px;
      margin: 30px auto;
      background: #ffffff;
      padding: 20px 40px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    }
    h2 {
      color: #166534; /* Vert fonc√© */
      border-bottom: 2px solid #a7f3d0; /* Vert clair */
      padding-bottom: 5px;
      margin-top: 2rem;
    }
    a {
      color: #15803d; /* Vert lien */
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    ul {
        list-style: square;
        padding-left: 20px;
    }
    button {
      padding: 10px 18px;
      margin-right: 10px;
      margin-top: 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: background-color 0.2s ease;
    }
    #apply-theme {
      /* [CONTRASTE FIX] Texte noir sur fond orange pour un meilleur contraste */
      background-color: #ff9900;
      color: #000000; /* Ancien: white (ratio 2.26), Nouveau: black (ratio 9.3 - Excellent) */
      font-weight: bold; /* Un peu plus visible */
    }
    #apply-theme:hover { background-color: #f97316; }
    #remove-theme { background-color: #d1d5db; color: #4b5563; } /* Gris */
    #remove-theme:hover { background-color: #9ca3af; }

    /* Petit espace pour le bouton toggle Halloweenify */
    body { padding-bottom: 50px; }

  </style>
  </head>
<body>
  <header class="header">
    <h1>Le Jardin Zen</h1>
  </header>

  <main class="container">
    <h2>Bienvenue dans notre Oasis de Verdure !</h2>
    <p>Le jardinage est une activit√© relaxante et enrichissante. Que vous ayez un grand jardin, un balcon ou juste un rebord de fen√™tre, il y a toujours une plante qui n'attend que vous ! Explorez nos conseils pour cr√©er votre propre coin de nature.</p>

    <button id="apply-theme">üéÉ Activer le Th√®me Halloween !</button>
    <button id="remove-theme" style="display: none;">Retirer le Th√®me Halloween</button>

    <h2>Planter des Bulbes d'Automne</h2>
    <p>L'automne est la saison id√©ale pour planter les bulbes qui fleuriront au printemps prochain. Tulipes, jonquilles, crocus... pr√©parez d√®s maintenant un spectacle color√© !</p>
    <ul>
      <li>Choisissez un emplacement ensoleill√© ou mi-ombrag√©.</li>
      <li>Ameublissez bien la terre.</li>
      <li>Plantez les bulbes √† la bonne profondeur (environ 2-3 fois leur hauteur).</li>
      <li>Pensez √† les prot√©ger des <a href="#">rongeurs gourmands</a> !</li>
    </ul>

    <h2>Pr√©parer le Jardin pour l'Hiver</h2>
    <p>Avant les premi√®res gel√©es, quelques gestes simples prot√©geront vos plantes :</p>
    <ol>
      <li>Rentrez les plantes fragiles (g√©raniums, agrumes...).</li>
      <li>Paillez le pied des arbustes et vivaces sensibles au froid.</li>
      <li>Nettoyez les feuilles mortes (sauf si elles servent de paillis naturel).</li>
      <li>Videz et nettoyez vos <a href="#">outils de jardinage</a>.</li>
    </ol>

    <h2>Id√©e Recette : Soupe R√©confortante</h2>
    <p>Quoi de mieux qu'une bonne soupe apr√®s une journ√©e au jardin ? D√©couvrez notre recette facile de <a href="#">velout√© aux l√©gumes d'automne</a>.</p>

  </main> <script type="module">
      // 1. Importer le package et la fonction de nettoyage
      import halloweenify, { removeHalloweenify } from '../dist/esm/index.js'; // Chemin depuis test/ vers dist/

      // 2. R√©cup√©rer les boutons
      const applyBtn = document.getElementById('apply-theme');
      const removeBtn = document.getElementById('remove-theme');
      let isThemeActive = false; // Pour savoir si le th√®me est actif

      // 3. Logique du bouton "Activer"
      if (applyBtn && removeBtn) {
        applyBtn.addEventListener('click', () => {
          if (isThemeActive) return;

          console.log("Activation du th√®me Halloween..."); // Log pour d√©bogage

          halloweenify({
            force: true, // Force l'activation pour la d√©mo
            startDate: '10-25',
            endDate: '10-31',

            // --- Chemins (depuis la racine, via ../ depuis test/) ---
            //backgroundTexturePath: '../assets/web.png', // Mettez null pour un fond blanc
            overlayLogoPath: '../assets/Witch.svg', // Assurez-vous d'avoir Witch.svg
            // cursorPath: '../assets/cursor.png', // Utilisez un PNG si l'emoji pose probl√®me
            faviconPath: '../assets/favicon-pumpkin.ico',

            // --- Options ---
            spiderOpacity: 0.35,
            logoPosition: 'center',
            enableWebs: true,
            enableCursor: true,       // Utilise l'emoji citrouille comme curseur
            enableLogo: true,
            enableTitleEmoji: true,
            enableScrollbar: true,
            enableConsoleMessage: true,
            enableGhostLinks: true,
            enableFont: true,
            enableFavicon: true,
            enableUserToggle: true,   // Affiche le bouton [üëª OFF]
            showDragHint: true,       // Affiche la bulle d'aide

            exposeCleanup: true // Permet d'appeler window.__halloweenify_remove()
          });

          isThemeActive = true;
          applyBtn.style.display = 'none';
          removeBtn.style.display = 'inline-block';
        });

        // 4. Logique du bouton "Retirer"
        removeBtn.addEventListener('click', () => {
          if (!isThemeActive) return;

          console.log("Retrait du th√®me Halloween..."); // Log pour d√©bogage

          // Tente d'appeler la fonction globale expos√©e (plus s√ªr)
          if (typeof window.__halloweenify_remove === 'function') {
             window.__halloweenify_remove();
          } else {
              // Solution de secours si exposeCleanup √©tait false ou a √©chou√©
              console.warn("Fonction de nettoyage globale non trouv√©e, tentative via import.");
              try {
                removeHalloweenify();
              } catch (e) {
                console.error("Impossible de retirer le th√®me via la fonction import√©e.", e);
              }
          }

          isThemeActive = false;
          applyBtn.style.display = 'inline-block';
          removeBtn.style.display = 'none';
        });

      } else {
        console.warn('Boutons #apply-theme ou #remove-theme introuvables.');
      }
  </script>
</body>
</html>